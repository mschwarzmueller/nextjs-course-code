{"version":3,"sources":["../../../../../build/webpack/loaders/next-serverless-loader/utils.ts"],"names":["getUtils","vercelHeader","page","i18n","basePath","rewrites","pageIsDynamic","trailingSlash","defaultRouteRegex","dynamicRouteMatcher","defaultRouteMatches","getNamedRouteRegex","getRouteMatcher","handleRewrites","req","parsedUrl","rewriteParams","fsPathname","pathname","matchesPage","fsPathnameNoSlash","removeTrailingSlash","checkRewrite","rewrite","matcher","getPathMatch","source","removeUnnamedParams","strict","params","has","hasParams","matchHas","query","Object","assign","parsedDestination","destQuery","prepareDestination","appendParamsToQuery","destination","protocol","replace","RegExp","destLocalePathResult","normalizeLocalePath","locales","nextInternalLocale","detectedLocale","dynamicParams","beforeFiles","finished","afterFiles","fallback","handleBasePath","url","getParamsFromRouteMatches","renderOpts","groups","routeKeys","re","exec","str","obj","parseQs","matchesHasLocale","routeKeyNames","keys","filterLocaleItem","val","isCatchAll","Array","isArray","_val","some","item","toLowerCase","locale","splice","length","every","name","reduce","prev","keyName","paramName","pos","key","normalizedKey","parseInt","headers","interpolateDynamicPath","param","optional","repeat","builtParam","paramIdx","indexOf","paramValue","map","v","encodeURIComponent","join","slice","normalizeVercelUrl","trustQuery","paramKeys","_parsedUrl","parseUrl","search","formatUrl","normalizeDynamicRouteParams","ignoreOptional","hasValidParams","value","defaultValue","isOptional","isDefaultValue","defaultVal","includes","undefined","split","handleLocale","res","routeNoAssetPath","shouldNotRedirect","defaultLocale","detectLocaleCookie","acceptPreferredLocale","localeDetection","acceptLanguage","_","host","hostname","detectedDomain","detectDomainLocale","domains","addRequestMeta","localeDomainRedirect","localePathResult","localeToCheck","matchedDomain","domain","http","denormalizedPagePath","denormalizePagePath","detectedDefaultLocale","shouldStripDefaultLocale","shouldAddLocalePrefix","previous","getHeader","setHeader","cookie","serialize","httpOnly","path","statusCode","TEMPORARY_REDIRECT_STATUS","end"],"mappings":"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"}